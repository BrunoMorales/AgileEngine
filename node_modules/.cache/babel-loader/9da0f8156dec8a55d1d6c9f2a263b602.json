{"ast":null,"code":"import _slicedToArray from\"/Users/brunomorales/Documents/Personal/Agileengine/AgileEngine/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{fetchImageDetails}from\"../../utils/ImageFetcher\";var ImageDetail=function ImageDetail(_ref){var imageIndex=_ref.imageIndex,setImageIndex=_ref.setImageIndex,pictures=_ref.pictures;var _useState=useState(undefined),_useState2=_slicedToArray(_useState,2),details=_useState2[0],setDetails=_useState2[1];useEffect(function(){imageIndex&&fetchImageDetails(pictures[imageIndex].id).then(function(res){return setDetails(res);});},[imageIndex]);var close=function close(){return setImageIndex(undefined);};var tags=function tags(fullTags){return fullTags.split('#').slice(1);};var nextImage=function nextImage(){return imageIndex&&imageIndex<pictures.length&&setImageIndex(imageIndex+1);};var prevImage=function prevImage(){return imageIndex&&imageIndex>0&&setImageIndex(imageIndex-1);};var shareImage=function shareImage(){var shareData={title:imageIndex?pictures[imageIndex].id:'',text:'picture by '+(details===null||details===void 0?void 0:details.author),url:details===null||details===void 0?void 0:details.full_picture};navigator.share(shareData).then(function(response){return console.log('image shared.',response);}).catch(function(error){return console.log('Image wass not shared.',error);});};return/*#__PURE__*/React.createElement(\"section\",{className:\"\".concat(imageIndex?'absolute':'hidden',\" w-full px-2\")},/*#__PURE__*/React.createElement(\"div\",{className:\"rounded-lg bg-white border-2 w-full p-4 box-shadow\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"mb-2\"},\"Picture ID:\",/*#__PURE__*/React.createElement(\"strong\",null,imageIndex&&pictures[imageIndex].id)),/*#__PURE__*/React.createElement(\"img\",{src:details===null||details===void 0?void 0:details.full_picture,alt:imageIndex?pictures[imageIndex].id:'',className:\"mb-2 object-contain mx-auto border rounded-xl\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-2\"},\"Author: \",details===null||details===void 0?void 0:details.author),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-2\"},\"Camera with which the picture was taken: \",details===null||details===void 0?void 0:details.camera),/*#__PURE__*/React.createElement(\"div\",null,details&&tags(details.tags).map(function(tag,index){return/*#__PURE__*/React.createElement(\"a\",{key:index,href:\"https://www.facebook.com/hashtag/\".concat(tag),target:\"_blank\",className:\"mx-3\"},\"#\",tag);})),/*#__PURE__*/React.createElement(\"div\",{className:\"flex flex-row justify-between mb-8\"},/*#__PURE__*/React.createElement(\"button\",{className:\"bg-blue-400 rounded px-2 py-1 md:px-4 md:py-2\",onClick:prevImage},\"Previous Image\"),/*#__PURE__*/React.createElement(\"button\",{className:\"bg-blue-400 rounded px-2 py-1 md:px-4 md:py-2\",onClick:nextImage},\"Next Image\")),/*#__PURE__*/React.createElement(\"div\",{className:\"flex justify-between\"},/*#__PURE__*/React.createElement(\"button\",{className:\"rounded p-2 bg-red-400\",onClick:close},\"Close\"),navigator.share&&/*#__PURE__*/React.createElement(\"button\",{onClick:shareImage,className:\"rounded-full text-white bg-green-800 h-full p-3\"},\"Share\"))));};export default ImageDetail;","map":{"version":3,"sources":["/Users/brunomorales/Documents/Personal/Agileengine/AgileEngine/src/components/ImageDetail/ImageDetail.tsx"],"names":["React","useEffect","useState","fetchImageDetails","ImageDetail","imageIndex","setImageIndex","pictures","undefined","details","setDetails","id","then","res","close","tags","fullTags","split","slice","nextImage","length","prevImage","shareImage","shareData","title","text","author","url","full_picture","navigator","share","response","console","log","catch","error","camera","map","tag","index"],"mappings":"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","sourcesContent":["import React, { ReactElement, FC, useEffect, useState } from \"react\";\nimport { fetchImageDetails, imageDetail, picture } from \"../../utils/ImageFetcher\";\n\ninterface detailProps {\n    imageIndex: number | undefined\n    setImageIndex: (index: number | undefined) => void\n    pictures: picture[]\n}\n\nconst ImageDetail: FC<detailProps> = ({ imageIndex, setImageIndex, pictures }): ReactElement => {\n    const [details, setDetails] = useState<imageDetail | undefined>(undefined)\n\n    useEffect(() => {\n        imageIndex && fetchImageDetails(pictures[imageIndex].id).then(\n            res => setDetails(res)\n        )\n    }, [imageIndex])\n\n    const close = () => setImageIndex(undefined)\n\n    const tags = (fullTags: string): string[] => (fullTags.split('#').slice(1))\n\n    const nextImage = () => imageIndex && imageIndex < pictures.length && setImageIndex(imageIndex + 1)\n    const prevImage = () => imageIndex && imageIndex > 0 && setImageIndex(imageIndex - 1)\n    const shareImage = () => {\n        const shareData = {\n            title: imageIndex ? pictures[imageIndex].id : '',\n            text: 'picture by ' + details?.author,\n            url: details?.full_picture,\n        }\n        navigator.share(shareData)\n            .then(response => console.log('image shared.', response))\n            .catch(error => console.log('Image wass not shared.', error))\n    }\n\n    return (\n        <section className={`${imageIndex ? 'absolute' : 'hidden'} w-full px-2`}>\n            <div className={`rounded-lg bg-white border-2 w-full p-4 box-shadow`}>\n                <h2 className='mb-2'>\n                    Picture ID:\n                    <strong>\n                        {imageIndex && pictures[imageIndex].id}\n                    </strong>\n                </h2>\n                <img src={details?.full_picture} alt={imageIndex ? pictures[imageIndex].id : ''} className='mb-2 object-contain mx-auto border rounded-xl' />\n                <p className='mb-2'>\n                    Author: {details?.author}\n                </p>\n                <p className='mb-2'>Camera with which the picture was taken: {details?.camera}</p>\n                <div>\n                    {details && tags(details.tags)\n                        .map((tag, index) => (\n                            <a key={index} href={`https://www.facebook.com/hashtag/${tag}`} target='_blank' className='mx-3'>\n                                #{tag}\n                            </a>\n                        ))}\n                </div>\n                <div className='flex flex-row justify-between mb-8'>\n                    <button className='bg-blue-400 rounded px-2 py-1 md:px-4 md:py-2' onClick={prevImage}>\n                        Previous Image\n                </button>\n                    <button className='bg-blue-400 rounded px-2 py-1 md:px-4 md:py-2' onClick={nextImage}>\n                        Next Image\n                </button>\n                </div>\n                <div className='flex justify-between'>\n\n                    <button className='rounded p-2 bg-red-400' onClick={close}>\n                        Close\n                </button>\n                    {navigator.share && <button onClick={shareImage} className='rounded-full text-white bg-green-800 h-full p-3'>\n                        Share\n                </button>}\n                </div>\n            </div>\n        </section >\n    )\n}\n\nexport default ImageDetail"]},"metadata":{},"sourceType":"module"}