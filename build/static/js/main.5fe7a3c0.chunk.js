(this["webpackJsonpfile-displayer"]=this["webpackJsonpfile-displayer"]||[]).push([[0],{16:function(e,t,n){e.exports=n(40)},21:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(14),o=n.n(c);n(21),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u=n(2),l=n(3),i=n.n(l),s=n(4),m=n(15),d=n.n(m).a.create({baseURL:"http://interview.agileengine.com"}),p=function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.post("/auth",{apiKey:"23567b218376f79d9415"});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e.catch(0),Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(s.a)(i.a.mark((function e(t){var n,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:return n=e.sent,a=n.token,e.prev=4,e.next=7,d.get("/images",{params:{page:t},headers:{authorization:"Bearer ".concat(a)}});case 7:return r=e.sent,e.abrupt("return",r.data);case 11:throw e.prev=11,e.t0=e.catch(4),Error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(s.a)(i.a.mark((function e(t){var n,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:return n=e.sent,a=n.token,e.prev=4,e.next=7,d.get("/images/".concat(t),{headers:{authorization:"Bearer ".concat(a)}});case 7:return r=e.sent,e.abrupt("return",r.data);case 11:throw e.prev=11,e.t0=e.catch(4),Error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}(),h=function(e){var t=e.imageIndex,n=e.setImageIndex,c=e.pictures,o=Object(a.useState)(void 0),l=Object(u.a)(o,2),i=l[0],s=l[1];Object(a.useEffect)((function(){t&&b(c[t].id).then((function(e){return s(e)}))}),[t]);var m;return r.a.createElement("section",{className:"".concat(t?"absolute":"hidden"," w-full px-2")},r.a.createElement("div",{className:"rounded-lg bg-white border-2 w-full p-4 box-shadow"},r.a.createElement("h2",{className:"mb-2"},"Picture ID:",r.a.createElement("strong",null,t&&c[t].id)),r.a.createElement("img",{src:null===i||void 0===i?void 0:i.full_picture,alt:t?c[t].id:"",className:"mb-2 object-contain mx-auto border rounded-xl"}),r.a.createElement("p",{className:"mb-2"},"Author: ",null===i||void 0===i?void 0:i.author),r.a.createElement("p",{className:"mb-2"},"Camera with which the picture was taken: ",null===i||void 0===i?void 0:i.camera),r.a.createElement("div",null,i&&(m=i.tags,m.split("#").slice(1)).map((function(e,t){return r.a.createElement("a",{key:t,href:"https://www.facebook.com/hashtag/".concat(e),target:"_blank",className:"mx-3"},"#",e)}))),r.a.createElement("div",{className:"flex flex-row justify-between mb-8"},r.a.createElement("button",{className:"bg-blue-400 rounded px-2 py-1 md:px-4 md:py-2",onClick:function(){return t&&t>0&&n(t-1)}},"Previous Image"),r.a.createElement("button",{className:"bg-blue-400 rounded px-2 py-1 md:px-4 md:py-2",onClick:function(){return t&&t<c.length&&n(t+1)}},"Next Image")),r.a.createElement("div",{className:"flex justify-between"},r.a.createElement("button",{className:"rounded p-2 bg-red-400",onClick:function(){return n(void 0)}},"Close"),navigator.share&&r.a.createElement("button",{onClick:function(){var e={title:t?c[t].id:"",text:"picture by "+(null===i||void 0===i?void 0:i.author),url:null===i||void 0===i?void 0:i.full_picture};navigator.share(e).then((function(e){return console.log("image shared.",e)})).catch((function(e){return console.log("Image wass not shared.",e)}))},className:"rounded-full text-white bg-green-800 h-full p-3"},"Share"))))},v=function(e){var t=e.pictures,n=Object(a.useState)(void 0),c=Object(u.a)(n,2),o=c[0],l=c[1];return r.a.createElement("section",{className:"flex flex-wrap justify-center"},t.map((function(e,t){return r.a.createElement("button",{className:"rounded-lg overflow-hidden w-1/2 md:w-1/5 lg:w-1/12 lg:mx-2 border-green-600 border flex-grow",onClick:function(){return l(t)}},r.a.createElement("img",{key:t,className:"object-contain",src:e.cropped_picture,alt:e.id}))})),r.a.createElement(h,{imageIndex:o,setImageIndex:l,pictures:t}))},g=function(){var e=Object(a.useState)(1),t=Object(u.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(1),l=Object(u.a)(o,2),i=l[0],s=l[1],m=Object(a.useState)([]),d=Object(u.a)(m,2),p=d[0],b=d[1];return Object(a.useEffect)((function(){f(n).then((function(e){var t=e.pictures,n=e.pageCount;b(t),s(n)}))}),[]),Object(a.useEffect)((function(){f(n).then((function(e){var t=e.pictures;b(t)}))}),[n]),r.a.createElement("main",{className:"py-10 px-5"},r.a.createElement("h1",{className:"text-xl mb-8"},r.a.createElement("strong",null,"AgileEngine Interview")),r.a.createElement("div",{className:"flex flex-row justify-between mb-8"},r.a.createElement("button",{className:"bg-blue-400 rounded px-2 py-1 md:px-4 md:py-2",onClick:function(){return n>1&&c(n-1)}},"Previous"),r.a.createElement("p",null,"Current page: ",n),r.a.createElement("button",{className:"bg-blue-400 rounded px-2 py-1 md:px-4 md:py-2",onClick:function(){return n<i&&c(n+1)}},"Next")),r.a.createElement(v,{pictures:p}))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[16,1,2]]]);
//# sourceMappingURL=main.5fe7a3c0.chunk.js.map